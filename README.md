# Tetra Kids: Block Party - Project Portfolio 2 - HTML, CSS & Javascript
<div align="center">
  <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/responsive-design.webp" alt="Home Page">
</div>

Hey there, fellow game enthusiasts!

Welcome to TetraKids: Block Party – a delightful twist on the timeless classic! This game was born out of a special bond between a father and his 5-year-old autistic son, who just can't get enough of numbers and blocks. When traditional Tetris proved to be a bit too fast-paced and overwhelming, this dad took matters into his own hands.

In TetraKids: Block Party, we've dialed down the speed, cranked up the fun, and added a sprinkle of magic! Say goodbye to frantic gameplay and repetitive music – we're all about creating a relaxing and enjoyable experience here. Plus, we've super-sized the grid to give you plenty of room to play.

But wait, there's more! We've thrown in some special blocks. Get ready for a whimsical adventure filled with colorful shapes and endless possibilities. Can you recognize these blocks?

So, gather your family and friends, and let's dive into the ultimate block party!

You can access the game through the following link: <a href="https://mhesemans.github.io/TetraKids-BlockParty/" target="_blank" alt="TetraKids-BlockParty"> TetraKids-BlockParty </a>

# contents

- [Objective](#objective)
- [UX](#ux)
   * [Target Audience](#target-audience)
   * [User Stories](#user-stories)
   * [Site Objectives](#site-objectives)
   * [Visual Design](#visual-design)
      + [Wireframes](#wireframes)
      + [Site Structure Overview](#site-structure-overview)
      + [Fonts   ](#fonts)
      + [Colours](#colours)
      + [Images](#images)
- [Features](#features)
   * [Game Instructions](#game-instructions)
   * [Game view and controls](#game-view-and-controls)
   * [Game End and Final Score view](#game-end-and-final-score-view)
- [Technologies Used](#technologies-used)
- [Testing](#testing)
   * [Validation](#validation)
   * [Quality Control and Gameplay Testing](#quality-control-and-gameplay-testing)
   * [Solved Bugs](#solved-bugs)
      + [Bug 1](#bug-1)
      + [Bug 2](#bug-2)
      + [Bug 3](#bug-3)
   * [Known Bugs](#known-bugs)
      + [Do the flippy thing](#do-the-flippy-thing)
      + [Oh no! It stopped!](#oh-no-it-stopped)
- [Deployment & Local Development](#deployment-local-development)
   * [Deployment](#deployment)
   * [Local Development](#local-development)
      + [How to Fork](#how-to-fork)
      + [How to Clone](#how-to-clone)
- [Credits](#credits)
- [Acknowledgements](#acknowledgements)

# Objective

The project offers a soothing and enjoyable take on a classic game, providing users with a relaxed gaming experience free from the pressure of game speed or intrusive sounds. Whether on mobile, tablet, or PC, players can immerse themselves in the game at their own pace. With no built-in audio, players can don their headphones and groove to their favorite tunes while playing to their heart's content.

[Back to top](<#contents>)
---
# UX

## Target Audience
- **Parents of Young Children:** Targeting parents who want to introduce their young children, particularly those with special interests like numbers and blocks, to a classic game in a more accessible and engaging way, while also enhancing their dexterity and problem-solving abilities.
- **Children with Special Needs:** Aimed at children with autism or other special needs who may benefit from a slower-paced and sensory-friendly gaming experience, tailored to their interests and preferences, while promoting the development of fine motor skills and cognitive abilities.
- **Casual Gamers:** Catering to casual gamers of all ages who prefer a relaxed gaming experience without the pressure of time constraints or competitive gameplay, allowing them to unwind and enjoy the game at their own pace.
- **Educators and Therapists:** Appealing to educators and therapists who work with children with special needs, providing them with a tool to incorporate into their teaching or therapy sessions that promotes engagement and skill development in a fun and accessible way.
- **Fans of Educational Content:** Attracting fans of educational content, especially those familiar with popular YouTube videos like "Numberblocks," by incorporating elements inspired by these videos into the game, adding an extra layer of appeal and familiarity.

## User Stories

- As a parent, I seek a game that offers a slower-paced and simplified gameplay experience for my young child.
- As a child with autism, I desire a game devoid of internal stressors and overwhelming elements, allowing for focused and enjoyable gameplay.
- As a casual gamer, I appreciate games that provide a relaxed gaming experience without time constraints or competitive pressure.
- As an educator or therapist, I aim to utilize games as a tool for promoting motor skills and spatial thinking in children with special needs, integrating fun and accessible gameplay into teaching or therapy sessions.

## Site Objectives

- **Provide an Enjoyable and Accessible Gaming Experience:** The primary objective of the site is to offer users, particularly children and their families, an enjoyable and accessible gaming experience inspired by a popular block-based game. This experience should be inclusive and easy to understand for users of all ages and backgrounds.
- **Support Learning and Development:** The site aims to support cognitive development, particularly in areas such as spatial thinking and problem-solving skills, through engaging gameplay. By presenting a simplified and relaxed version of the game, it encourages players to explore and develop their abilities in a stress-free environment.
- **Foster Creativity and Imagination:** Another objective is to foster creativity and imagination in young players by introducing fun and colorful blocks inspired by popular educational content. The game encourages players to experiment with different block arrangements and strategies, sparking their creativity and critical thinking skills.
- **Promote Family Bonding and Interaction:** The site seeks to promote family bonding and interaction by providing a shared gaming experience that can be enjoyed by both children and adults. Through collaborative play and friendly competition, family members can spend quality time together and create lasting memories.
- **Accessible Across Devices:** Ensuring accessibility across various devices, including mobile phones, tablets, and desktop computers, is a key objective. This allows users to enjoy the game seamlessly across different platforms, accommodating their preferences and convenience.

[Back to top](<#contents>)
---
## Visual Design

### Wireframes

<div align="center">
  <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/wireframe.webp" alt="Wireframe">
</div>

The game's visual aspects were designed in Balsamiq Wireframes following the principles of mobile-first design. The wireframes were initially structured for mobile devices to prioritize usability and functionality on smaller screens. This approach helps ensure that the website is accessible and user-friendly across various devices, from smartphones to desktop computers.


### Site Structure Overview

Tetra Kids: Block Party has a straightforward design, the player is presented with the game objectives and the controls. After starting the game, the interactive elements are visually clear as to what their function is. Upon game end, the player is presented with their score and the option to play again.

In case the player lands on a nonexistent page, the player is presented with a 404 page that will direct them back to the game.

### Fonts   

**EB Garamond:** This is a clasic serif typeface selected for its elegant capitalization and rounded "a" and "e" giving the lowercase text a playful feel, it's meant to evoke a sense of whimsical playfulness. The font was selected from [google fonts](https://fonts.google.com/specimen/EB+Garamond 'Google Fonts').

### Colours

<div align="center">
  <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/colour-palette.webp" alt="Colour palette">
</div>

- The red hues were selected to draw attention to game controls.
- The blue hues give a sense of openess and freedom to contrast the grid itself.

### Images

<div align="center">
  <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/bgimg.webp" alt="Background Image">
</div>

The background image is fun and bright and the colourful cubes represent the various colours used for the shapes within the game.

[Back to top](<#contents>)
---

# Features

## Game Instructions

<div align="center">
  <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/game-instructions.webp" alt="Game Instructions">
</div>

The instructions explain the game objectives and the buttons used to control the movements of the blocks in the game grid to the player.
Visuals are added for the players so that they can recognize the game elements before the game has started.
This section also contains the start button which will hide the game objectives and will initiate the game and activate the controls.

## Game view and controls

<div align="center">
  <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/game-view.webp" alt="Game View"> <br>
  <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/game-controls.webp" alt="Game Controls">
</div>

The score and the game grid are centered on top of the screen with the game controls directly below. Any other elements are avoided to minimize distractions or sensory overload. The controls are hand-drawn to add to the whimsical relaxed nature of the game.
The score will increment by 1 for each row (or line) that is cleared.
In addition to the control buttons on the screen, the block movements can also be controlled by using the keyboard buttons as indicated in the game objectives/game controls.

## Game End and Final Score view

<div align="center">
  <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/game-end.webp" alt="Game End and Final Score view">
</div>

At the end of the game the final score is displayed along with the replay button, providing the player with the results of their game session and a quick way to play the game again. Game controls are also disabled.

[Back to top](<#contents>)
---

# Technologies Used
- [HTML5](w3.org/standards/webdesign/htmlcss 'w3.org')
    * Page markup.
- [CSS3](w3.org/standards/webdesign/htmlcss 'w3.org')
    * Styling of page content.
- [Javascript](https://developer.mozilla.org/en-US/docs/Web/JavaScript 'mozilla.org JavaScript')
    * For researching looping code and arrays which I relied on heavily when displaying and moving the shapes across the grid.
- [Balsamiq Wireframes](https://balsamiq.com/ 'Balsamiq Wireframes')
    * For generating Wireframes used in design process.
- [ImageResizer](https://imageresizer.com/ 'Image Resizer')
    * For cropping and resizing images.
- [DeepAI](https://deepai.org/machine-learning-model/text2img 'Text to Image AI image generator')
    * For generating the background image.
- [Coolors](https://coolors.co/ 'coolors.co')
    * For creating colour palette
- [Visual Studio Code](https://code.visualstudio.com/ 'Visual Studio Code')
    * Used as source-code editor throughout the project
- [Github](https://github.com/)
    *  For remote storing and deployment of code and content.
- [Github pages](https://pages.github.com/ 'Github Pages')
    * For hosting website.
- [amiresponsive?] (https://ui.dev/amiresponsive?/ 'amiresponsive')
    * For creating the Responsive image

[Back to top](<#contents>)
---

# Testing

The code was continuously tested throughout the development process:
- by using the console.log to ensure values were being passed through correctly
- using Chrome development tools for troubleshooting

## Validation
- HTML has been validated with [W3C HTML5 Validator](https://validator.w3.org/).
    <div align="center">
    <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/html-validated.png" alt="HTML Validation">
    </div>

- CSS has been validated with [W3C CSS Validator](https://jigsaw.w3.org/css-validator/).

    <div align="center">
    <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/css-validated.png" alt="CSS Validation">
    </div>

- Links checked with [W3C Link Checker](https://validator.w3.org/checklink).
    <div align="center">
    <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/links-validated.png" alt="Link Validation">
    </div>

- JS was tested with [jshint] (https://jshint.com/).
    <div align="center">
    <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/js-validation-1.png" alt="Link Validation">
    </div>
    This first set of warnings all relate to the same behaviour:

        // change shape colour
        function changeColour() {
            shapeColour = // this variable is later used to add the class to the squares related to the shape, the class will apply a colour though the corresponding class in style.css
            selectShape === 7
                ? "red" //checks index of selectShape and provides value (colour) to shapeColour
                : selectShape === 8
                ? "orange"
                : selectShape === 9
                ? "yellow"
                : selectShape === 10
                ? "blue"
                : selectShape === 11
                ? "blue"
                : "green"; // basically, if the shape isn't any of the non-4 square shapes defined above, the shape will be green
        }

The line breaks here are added by the code formatter I use in VSCode which is Prettier v10.4.1, as the function runs without issues and the code itself is commented
    <div align="center">
    <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/js-validation-2.png" alt="Link Validation">
    </div>

These warnings are caused by the largest function used here and relates to the fact that several functions are declared within this loop function. Ideally these functions should have been written outside of the loop and only called within this looping function as currently the function will be redeclared for each iteration through the loop. These functions also all use variables that are declared outside of the smaller functions which can make it confusing.

However as the function is behaving as expected within the game I don't currently see the need to rewrite this code block and risk further troubleshooting, it is certainly something I will avoid repeating in the future as it makes the code much harder to understand. To help mitigate this I have provided comments throughout to help clarify each function within this loop.

- Performance, Accessibility, Best Practices and SEO checked with [PageSpeed](https://pagespeed.web.dev/analysis/ 'PageSpeed Insights')
 <div align="center">
    <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/pagespeed-validation.png" alt="PageSpeed Validation">
    </div>
- Colour Contrast additionally checked with [color.a11y](https://color.a11y.com/Contrast/ 'Color Contrast Accessibility Validator')
 <div align="center">
    <img src="https://github.com/mhesemans/TetraKids-BlockParty/blob/main/assets/images/colour-contrast.png" alt="PageSpeed Validation">
    </div>

## Quality Control and Gameplay Testing

The game was extensively tested by a 5 year old boy and his father and ultimately achieved approval at the end of a stringent quality procedure full of excitement and laughs.

## Solved Bugs
### Bug 1
- The move left function was not working on button press, console reads:

        index.html:332 Uncaught ReferenceError: left is not defined
                at HTMLButtonElement.onclick (index.html:332:44)

        <button id="moveLeft" onclick="left()">Left</button>

    added eventlistener in js as per https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_onclick_addeventlistener

        document.getElementById("moveLeft").addEventListener("click", left)
### Bug 2
- The below error occurred seemingly randomly when flipping shapes:

        Uncaught TypeError: Cannot read properties of undefined (reading 'forEach')
        at remove (app.js:73:22)
        at dropShape (app.js:80:9)

    The flipShape function at that time:

        // flip shape
            function flipShape() {
                remove()
                let flipPosition = ShapeRotation === 0 ? 1
                                : ShapeRotation === 1 ? 2
                                : ShapeRotation === 2 ? 3
                                : ShapeRotation === 3 ? 4
                                : 0
                ShapeRotation = flipPosition
                console.log(ShapeRotation)
                currentShape = allShapes[selectShape][ShapeRotation]
                draw()
            }

    Initially, it wasn't clear what was causing the issue, but flipShape() seemed to be the cause. The error didn't consistently occur immediately after flipping but appeared later at times, sometimes when a new shape was drawn. I couldn't identify a specific pattern, but flipShape() was involved each time. I ruled out the remove() and draw() functions within flipShape() because they were being used without issues for other functions in the script.

    I looked for a different way to change the ShapeRotation variable to select the correct index and thought of the remainder operator, https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Remainder which would look like: (ShapeRotation + 1) % 4
    But at that stage I realized that the flipShape function I was using had the line : ShapeRotation === 3 ? 4, as there is no index 4, I deleted that line so the function now reads:

        function flipShape() {
            remove()
            let flipPosition = ShapeRotation === 0 ? 1
                            : ShapeRotation === 1 ? 2
                            : ShapeRotation === 2 ? 3
                            : 0
            ShapeRotation = flipPosition
            console.log(ShapeRotation)
            currentShape = allShapes[selectShape][ShapeRotation]
            draw()
        }

    I've tested the functionality of the flipShape() function and the error no longer occurs.

### Bug 3
- The function deactivateControls() stopped working after having added in another eventlistener for the play-again button. It wasn't clear to me why this addition would have caused this and I initially rolled back the new eventlistener. However I was still getting inconsistent behaviour with the controls not always deactivating so the issue may have existed previously.

    I researched online through multiple resources as to what could be going wrong and eventually found a different approach on:
    https://codehs.gitbooks.io/introcs/content/Animation-and-Games/key-events.html

    I declared event handlers separately and then called those within the activateControls and deactivateControls functions which resulted in the desired behaviour of disabling the controls at the end of the game.

    This involved quite a large rewrite of the functions and can be found in commit: 38a1f61e0dbbf6cd4332425248a85741d8bd8987 (38a1f61)

## Known Bugs

### Do the flippy thing
- Blocks can clip through the right edge of the game grid, splitting off blocks causing a chunk to reappear on the left side of the grid. The issue can be resolved by a number of approaches, for example redrawing the shape and shapePosition -= 1 if some of the indexes of the new position return a true for

        (shapePosition + index) % width === width -1)
    Or perhaps by adding a variable to check if the shape is currently at the right edge and to decrement the shapePostion indexes by 1  before redrawing the shape.

    In any case, one of the testers enjoyed this "funny feature" so much that it would have been adverse to the game play experience at this point.

### Oh no! It stopped!
- In a game of Tetris, you may have noticed that dropping a block all the way to the last valid row still briefly allows you to position the block to the left or right. Unfortunately, in Tetra Kids: Block Party, the blocks seem to be too lazy and take a rest at the first opportunity.
I've tried a number of approached including timeout:

        stopShapeTimeout = setTimeout(() => {
            stopShape(); // Call stopShape after the delay
        }, 1000);

    I also attempted to add event listeners for the keydown and keyup events and using a variable to only execute the stopShape function when keys are being pressed.

        if (!keyIsPressed) {
        // Check if no key is pressed
        stopShape();
        }
    However all of these approaches actually caused the blocks to exit the grid and result in errors as the shapes would be out of bounds.

    As I couldn't identify a solution for this bug, despite researching it for several days, I left this issue for future me to solve. Good luck buddy!

[Back to top](<#contents>)
---

# Deployment & Local Development

## Deployment

The site was deployed to GitHub pages.

  - In the GitHub repository, navigate to the Settings tab 
  - From the source section drop-down menu, select the Master Branch
  - Wait untill banner text identifies that the branch was successfully deployed

The live link can be found here - https://mhesemans.github.io/TetraKids-BlockParty/

## Local Development

### How to Fork

To fork the repository:

1. Log into Github
2. Go to the repository at https://github.com/mhesemans/TetraKids-BlockParty/
3. Click the Fork button

### How to Clone

To clone the repository:

1. Log into Github
2. Go to the repository at https://github.com/mhesemans/TetraKids-BlockParty/
3. Click the code button, select HTTPS, SSH or GitHub CLI and copy the given link
4. Open the terminal in VSCode (or other) and select the desired location (or create a new one)
5. Type 'git clone' into the terminal and then paste the link
6. The repository should now be available at the location provided in step 4


[Back to top](<#contents>)
---

# Credits

* Fonts from [Google Fonts](https://fonts.google.com/)
* Favicons made in [Gimp](https://www.gimp.org/)
* Checking if any elements in array are true: 
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some
* Checking if an element has a certain class:
https://www.shecodes.io/athena/41733-how-to-check-if-a-class-has-been-added-to-an-element-in-javascript#:~:text=in%208.5%20seconds-,To%20check%20if%20a%20class%20has%20been%20added%20to%20an,exists%20in%20the%20element's%20classList%20.
* Flipping shapes:
https://stackoverflow.com/questions/47692216/javascript-tetris-how-to-turn-around-the-blocks
* Any other code that was used or influenced from a different source has been commented and credited within the code

# Acknowledgements

This website was created for the 2nd portfolio project for CodeInstitute while participating in the Full Stack Software Developer Diploma course. Special thanks to my mentor Rory Sheridan for testing, advice and feedback & Cohort Facilitator Amy Richardson for providing advice and documentation.
Massive credit to my son Orinn who was immediately enthralled with the idea of a game and generously donated a large amount of his time providing feedback and testing.

[Back to top](<#contents>)